{
  "name": "paypal-ipn",
  "version": "1.0.1",
  "description": "Package for verifying Paypal IPN messages",
  "keywords": [
    "paypal",
    "ipn",
    "payment"
  ],
  "contributors": [
    {
      "name": "Chun-hao Hu",
      "email": "hu.chunhao@gmail.com",
      "url": "http://blog.huchunhao.com"
    }
  ],
  "bugs": {
    "url": "https://github.com/andzdroid/paypal-ipn/issues"
  },
  "repositories": [
    {
      "type": "git",
      "url": "git@github.com:andzdroid/paypal-ipn.git"
    }
  ],
  "dependencies": {},
  "main": "index",
  "engines": [
    "node"
  ],
  "readme": "# Paypal IPN Verification\n\nA simple NodeJS package for verifying Paypal IPN messages.\n\n## Installation\n`npm install paypal-ipn`\n\n## Usage\nThere is only one function, `verify`, which is used to verify any IPN messages you receive:\n\n    ipn.verify(ipn_params, callback);\n\n`ipn_params` is the dictionary of POST values sent to your IPN script by Paypal. Don't modify the dict in any way, just pass it directly to `ipn.verify` to check if the IPN message is valid.\n\n\nExample code:\n\n    var ipn = require('paypal-ipn');\n\n    ipn.verify(params, function callback(err, msg) {\n      if (err) {\n        console.error(msg);\n      } else {\n        //Do stuff with original params here\n\n        if (params.payment_status == 'Completed') {\n          //Payment has been confirmed as completed\n        }\n      }\n    });\n\nNote that all the package does is confirm that the IPN message is valid. After this, you will still need to make some more checks:\n\n> Confirm that the payment status is Completed.\n\n> Use the transaction ID to verify that the transaction has not already been processed, which prevents duplicate transactions from being processed.\n\n> Validate that the receivers email address is registered to you.\n\n> Verify that the price, item description, and so on, match the transaction on your website.\n\nYou can find more information on the [Paypal documentation for IPN](https://cms.paypal.com/cgi-bin/marketingweb?cmd=_render-content&content_ID=developer/e_howto_admin_IPNIntro).\n\n### The callback\nThe callback has two parameters, `err` and `msg`.\n\n`err` will be set to true if the IPN was invalid or the request could not be made. If it is false, then the IPN was valid and you can continue to process the payment.\n\nIf `err` was set to true, you can check `msg` for the exact error message.\n\nIf `err` was false, then `msg` will always be `VERIFIED`.\n\n### ExpressJS\n`paypal-ipn` works fine with [ExpressJS](http://expressjs.com/) or any other web framework.\n\nAll you need to do is pass in the request parameters to `ipn.verify`.\n\nIn ExpressJS, the request parameters are in `req.body`:\n\n    ipn.verify(req.body, callback_function);\n",
  "readmeFilename": "README.md",
  "_id": "paypal-ipn@1.0.1",
  "_from": "paypal-ipn@1.0.1"
}
